<?xml version="1.0" encoding="utf-8"?>
<project>

    <app
        title="Friday Night Funkin' - Codename Engine"
        main="funkin.backend.system.Main"
        file="CodenameEngine"
        packageName="com.yoshman29.codenameengine"
        package="com.yoshman29.codenameengine"
        version="1.0.1"
        company="Yoshman29" />

    <cppflag value="-Wno-overloaded-virtual" if="android" />

    <haxedef name="SAVE_PATH" value="CodenameEngine"/>
    <haxedef name="SAVE_NAME" value="save-default"/>
    <haxedef name="SAVE_OPTIONS_PATH" value="CodenameEngine"/>
    <haxedef name="SAVE_OPTIONS_NAME" value="options"/>

    <set name="APP_ID" value="0x0100f6c013bbc000" />
    <haxedef name="REGION" />

    <app preloader="flixel.system.FlxPreloader" />

    <set name="SWF_VERSION" value="11.8" />

    <!-- Window settings -->
    <window width="1280" height="720" background="#000000" hardware="true" vsync="false"/>
    <window if="html5" resizable="true"/>
    <window if="desktop" orientation="landscape" fullscreen="false" resizable="true"/>
    <window if="mobile" orientation="landscape" fullscreen="true" width="0" height="0" resizable="false"/>

    <!-- Compilation flags -->
    <define name="UPDATE_CHECKING" unless="web || hl || neko || debug"/>
    <define name="MODCHARTING_FEATURES"/>
    <define name="COMPILE_ALL_CLASSES"/>
    <haxedef name="MOD_SUPPORT"/>
    <haxedef name="TRANSLATIONS_SUPPORT"/>
    <haxedef name="GLOBAL_SCRIPT"/>
    <haxedef name="SOFTCODED_STATES"/>
    <haxedef name="ALLOW_MULTITHREADING"/>
    <haxedef name="NDLLS_SUPPORTED"/>
    <haxedef name="FLX_NO_DEBUG" unless="debug"/>
    <haxedef name="analyzer-optimize" unless="debug"/>
    <haxedef name="disable-version-check"/>

    <!-- Libraries -->
    <haxelib name="flixel" />
    <haxelib name="flixel-addons" />
    <haxelib name="format" />
    <haxelib name="flixel-animate" />
    <haxelib name="hscript-improved" />
    <haxelib name="markdown" />
    <haxelib name="nape-haxe4" />
    <haxelib name="funkin-modchart" />
    <haxelib name="away3d" />

    <!-- Build directories -->
    <set name="BUILD_DIR" value="export/debug" if="debug"/>
    <set name="BUILD_DIR" value="export/release" unless="debug"/>

    <!-- Source -->
    <source path="source"/>

    <!-- Asset system -->
    <define name="PRELOAD_ALL" />
    <library name="assets" preload="true"/>

    <!-- Main assets -->
    <assets path="assets" rename="assets" exclude="*.mp3" />
    <assets path="mods" rename="mods" embed="false"/>

    <!-- Optional folders (wonâ€™t crash if missing) -->
    <assets path="assets/fonts" rename="fonts" embed="true" include="*.png,*.fnt" if="exists('assets/fonts')" />
    <assets path="assets/3dmodels" rename="3dmodels" embed="true" include="*.obj,*.mtl" if="exists('assets/3dmodels')" />

    <!-- Macros -->
    <haxeflag name="--macro" value="funkin.backend.system.macros.Macros.initMacros()"/>

    <!-- HXCPP -->
    <haxedef name="HXCPP_DEBUG_LINK" if="debug"/>
    <haxedef name="HXCPP_STACK_LINE"/>
    <haxedef name="HXCPP_CHECK_POINTER"/>

    <!-- Icons -->
    <icon path="art/icon16.png" size="16"/>
    <icon path="art/icon32.png" size="32"/>
    <icon path="art/icon64.png" size="64"/>
    <icon path="art/iconOG.png" size="128"/>
    <icon path="art/iconOG.png" size="256"/>
    <icon path="art/iconOG.png" size="512"/>

    <!-- Phone -->
    <android min-sdk-version="21" target-sdk-version="35" />
</project>
